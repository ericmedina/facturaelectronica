<!DOCTYPE html>











<html>
    <head>
        <title>web.php - Administrador de archivos cPanel v3</title>
        
        <link rel="stylesheet" type="text/css" href="/cPanel_magic_revision_1392312282/frontend/paper_lantern/libraries/bootstrap/optimized/css/bootstrap.min.css" />
        
        <link rel="stylesheet" type="text/css" href="/cPanel_magic_revision_1386192030/frontend/paper_lantern/libraries/ui-fonts/open_sans/optimized/open_sans.min.css" />
        <link rel="stylesheet" type="text/css" href="/cPanel_magic_revision_1517872139/frontend/paper_lantern/libraries/fontawesome/web-fonts-with-css/css/fontawesome-all.min.css" />
        <link rel="stylesheet" type="text/css" href="/cPanel_magic_revision_1525855214/frontend/paper_lantern/filemanager/css/tree_styles2_optimized.css" />

        <script type="text/javascript" src="/cPanel_magic_revision_1480442228/yui-gen/utilities_container/utilities_container.js"></script>
        <script type="text/javascript" src="/cPanel_magic_revision_1525855248/cjt/cpanel-all-min.js?locale=es_419&locale_revision=1525856614"></script>
        <script type="text/javascript" src="/cPanel_magic_revision_1525855214/frontend/paper_lantern/js/filemanager_editors_optimized.js"></script>

        
<link rel="stylesheet" type="text/css" href="/cPanel_magic_revision_1525855251/cjt/css/ajaxapp-min.css" />
<!--[if IE 6]>
<link rel="stylesheet" type="text/css" href="/cPanel_magic_revision_1480442228/cjt/css/ajaxapp_ie6.css" />
<![endif]-->


        <style type="text/css">
            html, body, #maintbl {
                height: 100%;
                width: 100%;
                margin: 0;
                padding: 0;
                background: none !important;
            }

            form { margin: 0 }

            #maintbl, #maintbl tr, #maintbl td {
                margin:0;
                padding:0;
                border-collapse: collapse;
                border: none;
            }

            .cjt_progress_overlay .bd {
                background: transparent;
            }

            /* Suppress inherited styles from global style sheets. */
            .yui-panel .hd,
            .yui-panel .bd,
            .yui-panel .ft {
                background-image: none;
                font-size: 100%;

            }
            .yui-panel .ft {
                background-color: #CCCCCC;
            }

            /* overrides from tree_styles2_optimized.css */
            p {
                line-height: normal;
            }
            .header {
                background: #333333;
                color: #FFFFFF;
                padding: 5px;
            }
            .button-group .default {
                background: none !important;
                padding: 0;
            }

            .action-buttons {
                text-align: right;
            }

            .editor-area {
                position: absolute !important;
                top: 94px;
                right: 0;
                left: 0;
                bottom: 20px;
                border: 1px solid #CCCCCC;
            }

            .editor-toolbar {
                padding-top: 5px;
                padding-bottom: 5px;
            }

            .editor-toolbar .fa-terminal {
                font-size: inherit;
            }

            .btn-group-ddl {
                padding: 1px;
            }

            .help-link {
                padding: 14px;
                display: block;
            }

            @media (max-width: 503px) {
                .editor-area {
                    top: 245px;
                }
                .action-buttons {
                    text-align: left;
                }
            }

            @media (min-width: 504px) and (max-width: 768px) {
                .editor-area {
                    top: 200px;
                }
            }

            @media (min-width: 769px) and (max-width: 1074px) {
                .editor-area {
                    top: 130px;
                }
            }
        </style>

        <!--[if IE]>
        <style type="text/css">
            #legacy_codewindow {
                width: 99.5%;
            }
        </style>
        <![endif]-->

    </head>
    <body class="nomargins yui-skin-sam">
        <form action="javascript:void(0)" name="sform" onsubmit="loadfdata('sform_submit'); return false;" class="form-inline">
            <table border="0" id="maintbl">
                <tr class="header">
                    <td style="padding: 5px">
                        <div class="row">
                            <div class="col-xs-12 col-md-8">
                                <label style="font-weight: 900; font-size:13px;">
                                    Edición:
                                    <input  id="path" name="path" value="/home/pampadev/laravel/routes/web.php" class="form-control">
                                </label>
                                <label >Codificación:
                                    <select id="charset" name="charset" class="form-control">
                                    
                                        
                                            <option value="ansi_x3.110-1983" >
                                                ansi_x3.110-1983
                                            </option>
                                        
                                            <option value="ansi_x3.4-1968" >
                                                ansi_x3.4-1968
                                            </option>
                                        
                                            <option value="armscii-8" >
                                                armscii-8
                                            </option>
                                        
                                            <option value="asmo_449" >
                                                asmo_449
                                            </option>
                                        
                                            <option value="big5" >
                                                big5
                                            </option>
                                        
                                            <option value="big5-hkscs" >
                                                big5-hkscs
                                            </option>
                                        
                                            <option value="brf" >
                                                brf
                                            </option>
                                        
                                            <option value="bs_4730" >
                                                bs_4730
                                            </option>
                                        
                                            <option value="bs_viewdata" >
                                                bs_viewdata
                                            </option>
                                        
                                            <option value="cp10007" >
                                                cp10007
                                            </option>
                                        
                                            <option value="cp1125" >
                                                cp1125
                                            </option>
                                        
                                            <option value="cp1250" >
                                                cp1250
                                            </option>
                                        
                                            <option value="cp1253" >
                                                cp1253
                                            </option>
                                        
                                            <option value="cp1254" >
                                                cp1254
                                            </option>
                                        
                                            <option value="cp1255" >
                                                cp1255
                                            </option>
                                        
                                            <option value="cp1256" >
                                                cp1256
                                            </option>
                                        
                                            <option value="cp1257" >
                                                cp1257
                                            </option>
                                        
                                            <option value="cp1258" >
                                                cp1258
                                            </option>
                                        
                                            <option value="cp737" >
                                                cp737
                                            </option>
                                        
                                            <option value="cp770" >
                                                cp770
                                            </option>
                                        
                                            <option value="cp771" >
                                                cp771
                                            </option>
                                        
                                            <option value="cp772" >
                                                cp772
                                            </option>
                                        
                                            <option value="cp773" >
                                                cp773
                                            </option>
                                        
                                            <option value="cp774" >
                                                cp774
                                            </option>
                                        
                                            <option value="cp775" >
                                                cp775
                                            </option>
                                        
                                            <option value="csa_z243.4-1985-1" >
                                                csa_z243.4-1985-1
                                            </option>
                                        
                                            <option value="csa_z243.4-1985-2" >
                                                csa_z243.4-1985-2
                                            </option>
                                        
                                            <option value="csa_z243.4-1985-gr" >
                                                csa_z243.4-1985-gr
                                            </option>
                                        
                                            <option value="csn_369103" >
                                                csn_369103
                                            </option>
                                        
                                            <option value="cwi" >
                                                cwi
                                            </option>
                                        
                                            <option value="dec-mcs" >
                                                dec-mcs
                                            </option>
                                        
                                            <option value="din_66003" >
                                                din_66003
                                            </option>
                                        
                                            <option value="ds_2089" >
                                                ds_2089
                                            </option>
                                        
                                            <option value="ebcdic-at-de" >
                                                ebcdic-at-de
                                            </option>
                                        
                                            <option value="ebcdic-at-de-a" >
                                                ebcdic-at-de-a
                                            </option>
                                        
                                            <option value="ebcdic-ca-fr" >
                                                ebcdic-ca-fr
                                            </option>
                                        
                                            <option value="ebcdic-dk-no" >
                                                ebcdic-dk-no
                                            </option>
                                        
                                            <option value="ebcdic-dk-no-a" >
                                                ebcdic-dk-no-a
                                            </option>
                                        
                                            <option value="ebcdic-es" >
                                                ebcdic-es
                                            </option>
                                        
                                            <option value="ebcdic-es-a" >
                                                ebcdic-es-a
                                            </option>
                                        
                                            <option value="ebcdic-es-s" >
                                                ebcdic-es-s
                                            </option>
                                        
                                            <option value="ebcdic-fi-se" >
                                                ebcdic-fi-se
                                            </option>
                                        
                                            <option value="ebcdic-fi-se-a" >
                                                ebcdic-fi-se-a
                                            </option>
                                        
                                            <option value="ebcdic-fr" >
                                                ebcdic-fr
                                            </option>
                                        
                                            <option value="ebcdic-is-friss" >
                                                ebcdic-is-friss
                                            </option>
                                        
                                            <option value="ebcdic-it" >
                                                ebcdic-it
                                            </option>
                                        
                                            <option value="ebcdic-pt" >
                                                ebcdic-pt
                                            </option>
                                        
                                            <option value="ebcdic-uk" >
                                                ebcdic-uk
                                            </option>
                                        
                                            <option value="ebcdic-us" >
                                                ebcdic-us
                                            </option>
                                        
                                            <option value="ecma-cyrillic" >
                                                ecma-cyrillic
                                            </option>
                                        
                                            <option value="es" >
                                                es
                                            </option>
                                        
                                            <option value="es2" >
                                                es2
                                            </option>
                                        
                                            <option value="euc-jisx0213" >
                                                euc-jisx0213
                                            </option>
                                        
                                            <option value="euc-jp" >
                                                euc-jp
                                            </option>
                                        
                                            <option value="euc-jp-ms" >
                                                euc-jp-ms
                                            </option>
                                        
                                            <option value="euc-kr" >
                                                euc-kr
                                            </option>
                                        
                                            <option value="euc-tw" >
                                                euc-tw
                                            </option>
                                        
                                            <option value="gb18030" >
                                                gb18030
                                            </option>
                                        
                                            <option value="gb2312" >
                                                gb2312
                                            </option>
                                        
                                            <option value="gb_1988-80" >
                                                gb_1988-80
                                            </option>
                                        
                                            <option value="gbk" >
                                                gbk
                                            </option>
                                        
                                            <option value="georgian-academy" >
                                                georgian-academy
                                            </option>
                                        
                                            <option value="georgian-ps" >
                                                georgian-ps
                                            </option>
                                        
                                            <option value="gost_19768-74" >
                                                gost_19768-74
                                            </option>
                                        
                                            <option value="greek-ccitt" >
                                                greek-ccitt
                                            </option>
                                        
                                            <option value="greek7" >
                                                greek7
                                            </option>
                                        
                                            <option value="greek7-old" >
                                                greek7-old
                                            </option>
                                        
                                            <option value="gsm03.38" >
                                                gsm03.38
                                            </option>
                                        
                                            <option value="hp-greek8" >
                                                hp-greek8
                                            </option>
                                        
                                            <option value="hp-roman8" >
                                                hp-roman8
                                            </option>
                                        
                                            <option value="hp-roman9" >
                                                hp-roman9
                                            </option>
                                        
                                            <option value="hp-thai8" >
                                                hp-thai8
                                            </option>
                                        
                                            <option value="hp-turkish8" >
                                                hp-turkish8
                                            </option>
                                        
                                            <option value="hz-gb-2312" >
                                                hz-gb-2312
                                            </option>
                                        
                                            <option value="ibm037" >
                                                ibm037
                                            </option>
                                        
                                            <option value="ibm038" >
                                                ibm038
                                            </option>
                                        
                                            <option value="ibm1004" >
                                                ibm1004
                                            </option>
                                        
                                            <option value="ibm1026" >
                                                ibm1026
                                            </option>
                                        
                                            <option value="ibm1047" >
                                                ibm1047
                                            </option>
                                        
                                            <option value="ibm1124" >
                                                ibm1124
                                            </option>
                                        
                                            <option value="ibm1129" >
                                                ibm1129
                                            </option>
                                        
                                            <option value="ibm1132" >
                                                ibm1132
                                            </option>
                                        
                                            <option value="ibm1133" >
                                                ibm1133
                                            </option>
                                        
                                            <option value="ibm1160" >
                                                ibm1160
                                            </option>
                                        
                                            <option value="ibm1161" >
                                                ibm1161
                                            </option>
                                        
                                            <option value="ibm1162" >
                                                ibm1162
                                            </option>
                                        
                                            <option value="ibm1163" >
                                                ibm1163
                                            </option>
                                        
                                            <option value="ibm1164" >
                                                ibm1164
                                            </option>
                                        
                                            <option value="ibm256" >
                                                ibm256
                                            </option>
                                        
                                            <option value="ibm273" >
                                                ibm273
                                            </option>
                                        
                                            <option value="ibm274" >
                                                ibm274
                                            </option>
                                        
                                            <option value="ibm275" >
                                                ibm275
                                            </option>
                                        
                                            <option value="ibm277" >
                                                ibm277
                                            </option>
                                        
                                            <option value="ibm278" >
                                                ibm278
                                            </option>
                                        
                                            <option value="ibm280" >
                                                ibm280
                                            </option>
                                        
                                            <option value="ibm281" >
                                                ibm281
                                            </option>
                                        
                                            <option value="ibm284" >
                                                ibm284
                                            </option>
                                        
                                            <option value="ibm285" >
                                                ibm285
                                            </option>
                                        
                                            <option value="ibm290" >
                                                ibm290
                                            </option>
                                        
                                            <option value="ibm297" >
                                                ibm297
                                            </option>
                                        
                                            <option value="ibm420" >
                                                ibm420
                                            </option>
                                        
                                            <option value="ibm423" >
                                                ibm423
                                            </option>
                                        
                                            <option value="ibm424" >
                                                ibm424
                                            </option>
                                        
                                            <option value="ibm437" >
                                                ibm437
                                            </option>
                                        
                                            <option value="ibm500" >
                                                ibm500
                                            </option>
                                        
                                            <option value="ibm850" >
                                                ibm850
                                            </option>
                                        
                                            <option value="ibm851" >
                                                ibm851
                                            </option>
                                        
                                            <option value="ibm852" >
                                                ibm852
                                            </option>
                                        
                                            <option value="ibm855" >
                                                ibm855
                                            </option>
                                        
                                            <option value="ibm856" >
                                                ibm856
                                            </option>
                                        
                                            <option value="ibm857" >
                                                ibm857
                                            </option>
                                        
                                            <option value="ibm860" >
                                                ibm860
                                            </option>
                                        
                                            <option value="ibm861" >
                                                ibm861
                                            </option>
                                        
                                            <option value="ibm862" >
                                                ibm862
                                            </option>
                                        
                                            <option value="ibm863" >
                                                ibm863
                                            </option>
                                        
                                            <option value="ibm864" >
                                                ibm864
                                            </option>
                                        
                                            <option value="ibm865" >
                                                ibm865
                                            </option>
                                        
                                            <option value="ibm866" >
                                                ibm866
                                            </option>
                                        
                                            <option value="ibm866nav" >
                                                ibm866nav
                                            </option>
                                        
                                            <option value="ibm868" >
                                                ibm868
                                            </option>
                                        
                                            <option value="ibm869" >
                                                ibm869
                                            </option>
                                        
                                            <option value="ibm870" >
                                                ibm870
                                            </option>
                                        
                                            <option value="ibm871" >
                                                ibm871
                                            </option>
                                        
                                            <option value="ibm874" >
                                                ibm874
                                            </option>
                                        
                                            <option value="ibm875" >
                                                ibm875
                                            </option>
                                        
                                            <option value="ibm880" >
                                                ibm880
                                            </option>
                                        
                                            <option value="ibm891" >
                                                ibm891
                                            </option>
                                        
                                            <option value="ibm903" >
                                                ibm903
                                            </option>
                                        
                                            <option value="ibm904" >
                                                ibm904
                                            </option>
                                        
                                            <option value="ibm905" >
                                                ibm905
                                            </option>
                                        
                                            <option value="ibm918" >
                                                ibm918
                                            </option>
                                        
                                            <option value="ibm922" >
                                                ibm922
                                            </option>
                                        
                                            <option value="iec_p27-1" >
                                                iec_p27-1
                                            </option>
                                        
                                            <option value="inis" >
                                                inis
                                            </option>
                                        
                                            <option value="inis-8" >
                                                inis-8
                                            </option>
                                        
                                            <option value="inis-cyrillic" >
                                                inis-cyrillic
                                            </option>
                                        
                                            <option value="invariant" >
                                                invariant
                                            </option>
                                        
                                            <option value="isiri-3342" >
                                                isiri-3342
                                            </option>
                                        
                                            <option value="iso-8859-1" >
                                                iso-8859-1
                                            </option>
                                        
                                            <option value="iso-8859-10" >
                                                iso-8859-10
                                            </option>
                                        
                                            <option value="iso-8859-11" >
                                                iso-8859-11
                                            </option>
                                        
                                            <option value="iso-8859-13" >
                                                iso-8859-13
                                            </option>
                                        
                                            <option value="iso-8859-14" >
                                                iso-8859-14
                                            </option>
                                        
                                            <option value="iso-8859-15" >
                                                iso-8859-15
                                            </option>
                                        
                                            <option value="iso-8859-16" >
                                                iso-8859-16
                                            </option>
                                        
                                            <option value="iso-8859-2" >
                                                iso-8859-2
                                            </option>
                                        
                                            <option value="iso-8859-3" >
                                                iso-8859-3
                                            </option>
                                        
                                            <option value="iso-8859-4" >
                                                iso-8859-4
                                            </option>
                                        
                                            <option value="iso-8859-5" >
                                                iso-8859-5
                                            </option>
                                        
                                            <option value="iso-8859-6" >
                                                iso-8859-6
                                            </option>
                                        
                                            <option value="iso-8859-7" >
                                                iso-8859-7
                                            </option>
                                        
                                            <option value="iso-8859-8" >
                                                iso-8859-8
                                            </option>
                                        
                                            <option value="iso-8859-9" >
                                                iso-8859-9
                                            </option>
                                        
                                            <option value="iso-8859-9e" >
                                                iso-8859-9e
                                            </option>
                                        
                                            <option value="iso-ir-197" >
                                                iso-ir-197
                                            </option>
                                        
                                            <option value="iso-ir-209" >
                                                iso-ir-209
                                            </option>
                                        
                                            <option value="iso-ir-90" >
                                                iso-ir-90
                                            </option>
                                        
                                            <option value="iso_10367-box" >
                                                iso_10367-box
                                            </option>
                                        
                                            <option value="iso_10646" >
                                                iso_10646
                                            </option>
                                        
                                            <option value="iso_11548-1" >
                                                iso_11548-1
                                            </option>
                                        
                                            <option value="iso_2033-1983" >
                                                iso_2033-1983
                                            </option>
                                        
                                            <option value="iso_5427" >
                                                iso_5427
                                            </option>
                                        
                                            <option value="iso_5427-ext" >
                                                iso_5427-ext
                                            </option>
                                        
                                            <option value="iso_5428" >
                                                iso_5428
                                            </option>
                                        
                                            <option value="iso_646.basic" >
                                                iso_646.basic
                                            </option>
                                        
                                            <option value="iso_646.irv" >
                                                iso_646.irv
                                            </option>
                                        
                                            <option value="iso_6937" >
                                                iso_6937
                                            </option>
                                        
                                            <option value="iso_6937-2-25" >
                                                iso_6937-2-25
                                            </option>
                                        
                                            <option value="iso_6937-2-add" >
                                                iso_6937-2-add
                                            </option>
                                        
                                            <option value="iso_8859-1,gl" >
                                                iso_8859-1,gl
                                            </option>
                                        
                                            <option value="iso_8859-supp" >
                                                iso_8859-supp
                                            </option>
                                        
                                            <option value="it" >
                                                it
                                            </option>
                                        
                                            <option value="jis_c6220-1969-jp" >
                                                jis_c6220-1969-jp
                                            </option>
                                        
                                            <option value="jis_c6220-1969-ro" >
                                                jis_c6220-1969-ro
                                            </option>
                                        
                                            <option value="jis_c6229-1984-a" >
                                                jis_c6229-1984-a
                                            </option>
                                        
                                            <option value="jis_c6229-1984-b" >
                                                jis_c6229-1984-b
                                            </option>
                                        
                                            <option value="jis_c6229-1984-b-add" >
                                                jis_c6229-1984-b-add
                                            </option>
                                        
                                            <option value="jis_c6229-1984-hand" >
                                                jis_c6229-1984-hand
                                            </option>
                                        
                                            <option value="jis_c6229-1984-hand-add" >
                                                jis_c6229-1984-hand-add
                                            </option>
                                        
                                            <option value="jis_c6229-1984-kana" >
                                                jis_c6229-1984-kana
                                            </option>
                                        
                                            <option value="jis_x0201" >
                                                jis_x0201
                                            </option>
                                        
                                            <option value="johab" >
                                                johab
                                            </option>
                                        
                                            <option value="jus_i.b1.002" >
                                                jus_i.b1.002
                                            </option>
                                        
                                            <option value="jus_i.b1.003-mac" >
                                                jus_i.b1.003-mac
                                            </option>
                                        
                                            <option value="jus_i.b1.003-serb" >
                                                jus_i.b1.003-serb
                                            </option>
                                        
                                            <option value="koi-8" >
                                                koi-8
                                            </option>
                                        
                                            <option value="koi8-r" >
                                                koi8-r
                                            </option>
                                        
                                            <option value="koi8-ru" >
                                                koi8-ru
                                            </option>
                                        
                                            <option value="koi8-t" >
                                                koi8-t
                                            </option>
                                        
                                            <option value="koi8-u" >
                                                koi8-u
                                            </option>
                                        
                                            <option value="ks_c_5601-1987" >
                                                ks_c_5601-1987
                                            </option>
                                        
                                            <option value="ksc5636" >
                                                ksc5636
                                            </option>
                                        
                                            <option value="latin-greek" >
                                                latin-greek
                                            </option>
                                        
                                            <option value="latin-greek-1" >
                                                latin-greek-1
                                            </option>
                                        
                                            <option value="mac-centraleurope" >
                                                mac-centraleurope
                                            </option>
                                        
                                            <option value="mac-cyrillic" >
                                                mac-cyrillic
                                            </option>
                                        
                                            <option value="mac-is" >
                                                mac-is
                                            </option>
                                        
                                            <option value="mac-sami" >
                                                mac-sami
                                            </option>
                                        
                                            <option value="mac-uk" >
                                                mac-uk
                                            </option>
                                        
                                            <option value="macintosh" >
                                                macintosh
                                            </option>
                                        
                                            <option value="mik" >
                                                mik
                                            </option>
                                        
                                            <option value="msz_7795.3" >
                                                msz_7795.3
                                            </option>
                                        
                                            <option value="nats-dano" >
                                                nats-dano
                                            </option>
                                        
                                            <option value="nats-dano-add" >
                                                nats-dano-add
                                            </option>
                                        
                                            <option value="nats-sefi" >
                                                nats-sefi
                                            </option>
                                        
                                            <option value="nats-sefi-add" >
                                                nats-sefi-add
                                            </option>
                                        
                                            <option value="nc_nc00-10" >
                                                nc_nc00-10
                                            </option>
                                        
                                            <option value="nextstep" >
                                                nextstep
                                            </option>
                                        
                                            <option value="nf_z_62-010" >
                                                nf_z_62-010
                                            </option>
                                        
                                            <option value="nf_z_62-010_1973" >
                                                nf_z_62-010_1973
                                            </option>
                                        
                                            <option value="ns_4551-1" >
                                                ns_4551-1
                                            </option>
                                        
                                            <option value="ns_4551-2" >
                                                ns_4551-2
                                            </option>
                                        
                                            <option value="pt" >
                                                pt
                                            </option>
                                        
                                            <option value="pt154" >
                                                pt154
                                            </option>
                                        
                                            <option value="pt2" >
                                                pt2
                                            </option>
                                        
                                            <option value="rk1048" >
                                                rk1048
                                            </option>
                                        
                                            <option value="sami" >
                                                sami
                                            </option>
                                        
                                            <option value="sami-ws2" >
                                                sami-ws2
                                            </option>
                                        
                                            <option value="sen_850200_b" >
                                                sen_850200_b
                                            </option>
                                        
                                            <option value="sen_850200_c" >
                                                sen_850200_c
                                            </option>
                                        
                                            <option value="shift_jis" >
                                                shift_jis
                                            </option>
                                        
                                            <option value="shift_jisx0213" >
                                                shift_jisx0213
                                            </option>
                                        
                                            <option value="t.101-g2" >
                                                t.101-g2
                                            </option>
                                        
                                            <option value="t.61-7bit" >
                                                t.61-7bit
                                            </option>
                                        
                                            <option value="t.61-8bit" >
                                                t.61-8bit
                                            </option>
                                        
                                            <option value="tcvn5712-1" >
                                                tcvn5712-1
                                            </option>
                                        
                                            <option value="tis-620" >
                                                tis-620
                                            </option>
                                        
                                            <option value="tscii" >
                                                tscii
                                            </option>
                                        
                                            <option value="us-ascii" >
                                                us-ascii
                                            </option>
                                        
                                            <option value="utf-7" >
                                                utf-7
                                            </option>
                                        
                                            <option value="utf-8" selected>
                                                utf-8
                                            </option>
                                        
                                            <option value="videotex-suppl" >
                                                videotex-suppl
                                            </option>
                                        
                                            <option value="viscii" >
                                                viscii
                                            </option>
                                        
                                            <option value="windows-1251" >
                                                windows-1251
                                            </option>
                                        
                                            <option value="windows-1252" >
                                                windows-1252
                                            </option>
                                        
                                            <option value="windows-31j" >
                                                windows-31j
                                            </option>
                                        
                                    
                                    </select>
                                </label>
                                <input type="button" onclick="loadfile(this);" class="btn btn-default" value="Volver a abrir" id="btnReOpen">
                            </div>
                            <div class="col-xs-12 col-md-4 action-buttons">
                                <button type="button" class="btn btn-default" id="switch_editor_control" onclick="try {toggle_EditArea(this)} catch(e) {} return false" title="Switch to legacy editor.">
                                    Use legacy editor
                                </button>
                                &nbsp;
                                <button type="submit" id="sform_submit" class="btn btn-primary" style="font-weight:bold">
                                    Guardar cambios
                                </button>
                                <input type="button" onclick="confirm_close(this);" class="btn btn-default" value="Cerrar" id="btnClose" />
                            </div>
                        </div>
                    </td>
                </tr>
                <tr class="show-ace-editor">
                    <td>
                        <div class="row">
                            <div class="col-xs-12 col-sm-4">
                                <a href="https://github.com/ajaxorg/ace/wiki/Default-Keyboard-Shortcuts"
                                    target="_blank" class="help-link">
                                    <span class="fas fa-external-link-alt"></span>
                                    Keyboard shortcuts
                                </a>
                            </div>
                            <!-- Editor Toolbar -->
                            <div class="col-xs-12 col-sm-8">
                                <div class="btn-toolbar editor-toolbar" role="toolbar">
                                    <div class="btn-group" role="group">
                                        <button id="btnSearch"
                                            type="button"
                                            onclick="toolbarActions('search')"
                                            class="btn btn-default"
                                            title="Buscar">
                                            <i class="fas fa-search"></i>
                                        </button>
                                        <button id="btnGoto"
                                            type="button"
                                            onclick="toolbarActions('goto')"
                                            class="btn btn-default"
                                            title="Go to line.">
                                            <i class="fas fa-terminal"></i>
                                        </button>
                                    </div>
                                    <div class="btn-group" role="group">
                                        <button id="btnUndo"
                                            type="button"
                                            onclick="toolbarActions('undo')"
                                            class="btn btn-default"
                                            title="Deshacer">
                                            <i class="fas fa-undo"></i>
                                        </button>
                                        <button id="btnRedo"
                                            type="button"
                                            onclick="toolbarActions('redo')"
                                            class="btn btn-default"
                                            title="Redo">
                                            <i class="fas fa-redo"></i>
                                        </button>
                                    </div>
                                    <div class="btn-group" role="group">
                                        <button id="btnLineWrap"
                                            type="button"
                                            onclick="toolbarActions('linewrap')"
                                            class="btn btn-default"
                                            title="Wrap">
                                            <i class="fas fa-arrows-alt-h"></i>
                                        </button>
                                    </div>
                                    <div class="btn-group" role="group">
                                        <select id="ddlFontSizes"
                                            class="btn btn-default form-control btn-group-ddl">
                                        </select>
                                    </div>
                                    <div class="btn-group" role="group">
                                        <select id="ddlModes"
                                            class="btn btn-default form-control btn-group-ddl">
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td id="codewindow_container">
                        <!-- Editor -->
                        <div id="codewindow" class="show-ace-editor editor-area"></div>
                        <textarea id="legacy_codewindow" class="codepress " style="visibility:hidden" wrap="soft" name="page"></textarea>
                    </td>
                </tr>
            </table>
        </form>

        <script type="text/plain" id="general_encoding_changed_template">
            <p>
                El sistema no pudo guardar el documento con la codificación “{old_charset}”. Lo más seguro es que el documento contenga caracteres incompatibles con “{old_charset}”.
            </p>

            <p>
                cPanel actualizó su documento a “{new_charset}” codificación. Verifique que el archivo se abra correctamente en la aplicación.
            </p>

            <p>
                Para obtener más información acerca de la codificación de archivos, ingrese a <a href="https://go.cpanel.net/encoding">https://go.cpanel.net/encoding</a>.
            </p>
        </script>

        

<img src="/cPanel_magic_revision_1480442228/cjt/images/progress_bar.gif" class="preloadedImage" />
<img src="/cPanel_magic_revision_1480442228/cjt/images/check.png" class="preloadedImage" />

<script id="cjt_error_dialog_template" type="text/plain">
<div class="error_notice">{error_html}</div>
</script>

<script id="cjt_http_error_dialog_template" type="text/plain">
<div class="error_notice http_error_notice">
    <div class="http_status">{status}: {status_text_html}</div>
    <div><a href="javascript:void(0)" class="http_error_details_link">Mostrar/ocultar detalles</a></div>
    <div class="cjt_error_details" style="display:none">
        <div class="url">URL ({method}):<pre>{url_html}</pre></div>
        <div class="post">Cuerpo: <pre>{post_html}</pre></div>
        <div class="response">Respuesta:<pre>{response_html}</pre></div>
    </div>
</div>
</script>

<script>
CPANEL.application = "cpaneld";
YAHOO.lang.augmentObject( CPANEL.Locale.prototype.LEXICON, {"OK":"Aceptar","An unknown error occurred.":"Se produjo un error desconocido.","Error":"Error","HTTP ERROR":"ERROR DE HTTP","Processing …":"Procesando…","Success!":"¡Éxito!","Cancel":"Cancelar","Proceed":"Proceder","Notice":"Notas","ERROR":"ERROR"} );
</script>

<script src="/cPanel_magic_revision_1492072867/cjt/ajaxapp-min.js"></script>


        <script type="text/javascript">
            var savedContent = "";
            var CHARSET = document.sform.charset.value;
            var USE_LEGACY_EDITOR = (0) ? true : false;
            if ( !window.LEXICON ) {
                LEXICON = {};
            }

            LEXICON.charset_changed = "Cambio de codificación de caracteres";
            LEXICON.confirm_close   = "No guardó los cambios. ¿Está seguro de que desea cerrar esta ventana?";
            LEXICON.reloading       = "Recargando…";

            function loadfile(clicked_el) {
                var isFileEdited = false;
                if(ace_editor){
                    isFileEdited = !ace_editor.getSession().getUndoManager().isClean();
                }

                if(isFileEdited){
                    var sure = confirm("¿Está seguro de que desea abrir un archivo nuevo? Perderá cualquier cambio que haya realizado.");
                    if (!sure) {
                        return;
                    }
                }

                var filen = document.sform.path.value;
                var fpath = filen.split('/');;
                var filename = fpath.pop();
                var dir = fpath.join('/');
                var sdir = encodeURIComponent(dir);
                var sfilename = encodeURIComponent(filename);
                var charset = document.getElementById('charset').value;

                var pp = new CPANEL.ajax.Progress_Panel( DOM.generateId(), {
                    status_html : "Recargando…",
                    effect: CPANEL.ajax.FADE_MODAL
                } );

                if (clicked_el) {
                    pp.show_from_source(clicked_el);
                }
                else {
                    pp.show();
                }
                var tt_value = (USE_LEGACY_EDITOR) ? 1 : 0;
                document.location.href="?dir=" + sdir + "&file=" + sfilename + '&file_charset=' + charset + '&use_legacy_editor=' + tt_value;
                // update the title
                document.title = filename.replace(/\n|\r/, "").html_encode() + " - Administrador de archivos cPanel v3"
            }

            var LAST_NOTICE = null;

            function loadfdata(clicked_el) {
                var path     = DOM.get("path");
                var changedContent = "";
                var isFileEdited = true;
                if(USE_LEGACY_EDITOR){
                    changedContent = editAreaLoader.getValue(editAreaEl);
                } else {
                    var aceSession = ace_editor.getSession();
                    changedContent = aceSession.getValue();
                }

                if ( changedContent === savedContent && path.value === path.defaultValue ) {
                    isFileEdited = false;
                }

                if(!isFileEdited) {
                    LAST_NOTICE = new CPANEL.ajax.Dynamic_Notice({content:"No realizó cambios que guardar.", level:"info", replaces:LAST_NOTICE});
                    return;
                }

                var match = path.value.match(/^(.+)\/([^\/]+)$/);
                if ( !match ) {
                    LAST_NOTICE = new CPANEL.ajax.Dynamic_Notice({content:"Ruta de destino no válida.", level:"error", replaces:LAST_NOTICE});
                    return;
                }

                var api_params = {
                    module:   "Fileman",
                    func:     "savefile",
                    data:     {
                        dir:           match[1],
                        filename:      match[2],
                        content:       changedContent,
                        utf8_fallback: 1,
                        charset:       CHARSET
                    },
                    progress_panel: {
                        zIndex:      2500,
                        show_status: true,
                        source_el:   clicked_el,
                        status_html: "Guardando “{the_file}” …".replace('{the_file}',match[2].html_encode()),
                        success_notice_options: { replaces:LAST_NOTICE },
                        before_success: function(result) {
                            savedContent = (USE_LEGACY_EDITOR) ? editAreaLoader.getValue(editAreaEl) : ace_editor.getValue();
                            return check_for_encoding_change.call(
                                this,
                                CPANEL.ajax.templates.general_encoding_changed_template,
                                result.cpanel_data
                            );
                        }
                    },
                    callback: {
                        success: function() { LAST_NOTICE = req.notice }
                    }
                };

                var req = CPANEL.api( api_params );

                return false;
            }
        </script>

        <script type="text/javascript" charset="utf-8"
                src="/cPanel_magic_revision_1518373903/frontend/paper_lantern/libraries/ace-editor/optimized/src-min-noconflict/ace.js">
        </script>
        <script type="text/javascript" charset="utf-8"
                src="/cPanel_magic_revision_1518373903/frontend/paper_lantern/libraries/ace-editor/optimized/src-min-noconflict/ext-modelist.js">
        </script>
        <script type="text/javascript" src="/cPanel_magic_revision_1512496797/frontend/paper_lantern/libraries/editarea/0.8.2/edit_area/edit_area_full.js"></script>
        <script type="text/javascript" src="/cPanel_magic_revision_1525855214/frontend/paper_lantern/js/edit_area_resizer.js"></script>

        <script type="text/javascript" src="/cPanel_magic_revision_1489699824/frontend/paper_lantern/libraries/jquery/3.2.0/jquery-3.2.0.min.js"></script>
        <script>
        
        var file_content = "&lt;?php\n\nuse Illuminate\\Support\\Facades\\Auth;\nuse Illuminate\\Http\\Request;\n\nuse \\Milon\\Barcode\\DNS1D;\nuse Illuminate\\Support\\Facades\\Response;\n\nuse Laracasts\\Flash\\FlashNotifier;\nuse Illuminate\\Support\\Facades\\Schema;\nuse Illuminate\\Database\\Schema\\Blueprint;\n\n\nuse Illuminate\\Mail\\Mailer;\nuse App\\Mail\\RecibirConsulta;\nuse App\\Mail\\EnviarConsulta;\n\nuse App\\Fiscal;\nuse App\\Responsabilidad_iva;\nuse App\\Empresa;\nuse Pampadev\\Facturacion\\Facturacion;\nuse Carbon\\Carbon;\nuse App\\Movimiento;\nuse App\\Compra;\nuse App\\Venta;\nuse App\\Gasto;\nuse App\\Cliente;\nuse App\\Producto;\nuse App\\Servicio;\nuse App\\FacturaB;\nuse App\\Detalle;\nuse App\\Facturas_sistema;\n/*\n|--------------------------------------------------------------------------\n| Web Routes\n|--------------------------------------------------------------------------\n|\n| Here is where you can register web routes for your application. These\n| routes are loaded by the RouteServiceProvider within a group which\n| contains the &quot;web&quot; middleware group. Now create something great!\n\n|\n*/\n\nRoute::get(&#39;/mp&#39;, &#39;MercadoPagoController@getCreatePreference&#39;);\n\nRoute::get(&#39;/update_tables&#39;, function(){\n    DB::transaction(function () {\n        $empresas = Empresa::orderBy(&#39;id&#39;, &#39;ASC&#39;)-&gt;get();\n            $empresas-&gt;each(function($empresa){\n                if($empresa-&gt;responsabilidad_iva_id ==1){\n                if (Schema::hasColumn(str_replace(&quot; &quot;,&quot;_&quot;,$empresa-&gt;razon_social).&#39;_factura_a&#39;, &#39;estado&#39;)) {\n                    Schema::table(str_replace(&quot; &quot;,&quot;_&quot;,$empresa-&gt;razon_social).&#39;_factura_a&#39;, function (Blueprint $table) {\n                        $table-&gt;dropColumn(&#39;estado&#39;);\n                    });\n                }\n                if (Schema::hasColumn(str_replace(&quot; &quot;,&quot;_&quot;,$empresa-&gt;razon_social).&#39;_factura_b&#39;, &#39;estado&#39;)) {\n                    Schema::table(strtolower(str_replace(&quot; &quot;,&quot;_&quot;,$empresa-&gt;razon_social)).&#39;_factura_b&#39;, function (Blueprint $table) {\n                        $table-&gt;dropColumn(&#39;estado&#39;);\n                    });\n                }\n            }else{\n                if (Schema::hasColumn(strtolower(str_replace(&quot; &quot;,&quot;_&quot;,$empresa-&gt;razon_social)).&#39;_factura_c&#39;, &#39;estado&#39;)) {\n                    Schema::table(strtolower(str_replace(&quot; &quot;,&quot;_&quot;,$empresa-&gt;razon_social)).&#39;_factura_c&#39;, function (Blueprint $table) {\n                        $table-&gt;dropColumn(&#39;estado&#39;);\n                    });\n                }\n            }\n             if (Schema::hasColumn(strtolower(str_replace(&quot; &quot;,&quot;_&quot;,$empresa-&gt;razon_social)).&#39;_ventas&#39;, &#39;estado&#39;)) {\n                Schema::table(strtolower(str_replace(&quot; &quot;,&quot;_&quot;,$empresa-&gt;razon_social)).&#39;_ventas&#39;, function (Blueprint $table) {\n                            $table-&gt;dropColumn(&#39;estado&#39;);\n                        });\n             }\n            Schema::table(strtolower(str_replace(&quot; &quot;,&quot;_&quot;,$empresa-&gt;razon_social)).&#39;_ventas&#39;, function(Blueprint $table){\n                $table-&gt;enum(&#39;estado&#39;, [&#39;Pago&#39;,&#39;Pendiente&#39;, &#39;Cancelado&#39;]);\n            });\n            if (!Schema::hasTable(str_replace(&quot; &quot;,&quot;_&quot;,$empresa-&gt;razon_social).&#39;_resumen_cuenta&#39;)) {\n                Schema::create(str_replace(&quot; &quot;,&quot;_&quot;,$empresa-&gt;razon_social).&#39;_resumen_cuenta&#39;, function(Blueprint $table)use($empresa){\n                    $table-&gt;increments(&#39;id&#39;);\n                    $table-&gt;date(&#39;fecha&#39;);\n                    $table-&gt;float(&#39;total&#39;);\n                    $table-&gt;integer(&#39;cliente_id&#39;)-&gt;unsigned();\n\n                    $table-&gt;foreign(&#39;cliente_id&#39;)-&gt;references(&#39;id&#39;)-&gt;on(str_replace(&quot; &quot;,&quot;_&quot;,$empresa-&gt;razon_social).&#39;_clientes&#39;);\n\n                    $table-&gt;timestamps();\n                });\n                echo &quot;\\nmigro $empresa _ resumen_cuenta&quot;;\n            }else{      \n                echo &quot;\\nno entro $empresa _ resumen_cuenta&quot;;\n            }\n            if (!Schema::hasTable(str_replace(&quot; &quot;,&quot;_&quot;,$empresa-&gt;razon_social).&#39;_saldo_favor&#39;)) {\n                Schema::create(str_replace(&quot; &quot;,&quot;_&quot;,$empresa-&gt;razon_social).&#39;_saldo_favor&#39;, function(Blueprint $table)use($empresa){\n                    $table-&gt;increments(&#39;id&#39;);\n                    $table-&gt;date(&#39;fecha&#39;);\n                    $table-&gt;float(&#39;total&#39;);\n                    $table-&gt;timestamps();\n                });\n                echo &quot;\\nmigro $empresa _ saldo_favor&quot;;\n            }else{\n                echo &quot;\\nno entro $empresa _ saldo_favor&quot;;\n            }\n            if (!Schema::hasTable(str_replace(&quot; &quot;,&quot;_&quot;,$empresa-&gt;razon_social).&#39;_saldo_pendiente&#39;)) {\n                Schema::create(str_replace(&quot; &quot;,&quot;_&quot;,$empresa-&gt;razon_social).&#39;_saldo_pendiente&#39;, function(Blueprint $table)use($empresa){\n                    $table-&gt;increments(&#39;id&#39;);\n                    $table-&gt;date(&#39;fecha&#39;);\n                    $table-&gt;float(&#39;total&#39;);\n                    $table-&gt;timestamps();\n                });\n                echo &quot;\\nmigro $empresa _ saldo_pendiente&quot;;\n            }else{\n                echo &quot;\\nno entro $empresa _ saldo_pendiente&quot;;\n            }\n        });\n    });\n});\n\nRoute::get(&#39;send_confirm&#39;, function(){\n    dd(&quot;SE CREO&quot;);\n});\nRoute::get(&#39;/nueva_empresa&#39;, function(){\n	$empresa = new App\\Empresa;\n    $empresa-&gt;razon_social = &#39;Eric Medina&#39;;\n    $empresa-&gt;nombre_fantasia = &#39;PampaDev&#39;;\n    $empresa-&gt;cuit = &#39;20371763644&#39;;\n    $empresa-&gt;direccion = &#39;Constituyentes 2442&#39;;\n    $empresa-&gt;localidad = &#39;Santa Rosa&#39;;\n    $empresa-&gt;provincia = &#39;La Pampa&#39;;\n    $empresa-&gt;telefono = &#39;15589992&#39;;\n    $empresa-&gt;email = &#39;eriic.eme@hotmail.com&#39;;\n    $empresa-&gt;password = bcrypt(&#39;20371763644&#39;);\n    $empresa-&gt;tipo_actividad = &#39;Servicios&#39;;\n    $empresa-&gt;responsabilidad_iva_id = 2;\n    $empresa-&gt;categoria_id = 1;\n    if($empresa-&gt;save()){\n        $empresa-&gt;migrar(strtolower(str_replace(&quot; &quot;,&quot;_&quot;,$empresa-&gt;razon_social)), $empresa-&gt;responsabilidad_iva_id);\n        $fiscal = new Fiscal();\n        $fiscal-&gt;empresa_id =  $empresa-&gt;id;\n        $fiscal-&gt;save();\n    }\n});\nRoute::get(&#39;/abel_medina&#39;, function(){\n    $empresa = new App\\Empresa;\n    $empresa-&gt;razon_social = &#39;Daniel Edgardo Medina&#39;;\n    $empresa-&gt;nombre_fantasia = &quot;Taller Mecánico Diesel &#39;MEDINA&#39;&quot;;\n    $empresa-&gt;cuit = &#39;23204217599&#39;;\n    $empresa-&gt;direccion = &#39;Constituyentes 2452&#39;;\n    $empresa-&gt;localidad = &#39;Santa Rosa&#39;;\n    $empresa-&gt;provincia = &#39;La Pampa&#39;;\n    $empresa-&gt;telefono = &#39;(02954) 439050&#39;;\n    $empresa-&gt;email = &#39;tallermedina@cpenet.com.ar&#39;;\n    $empresa-&gt;password = bcrypt(&#39;23204217599&#39;);\n    $empresa-&gt;tipo_actividad = &#39;productos y servicios&#39;;\n    $empresa-&gt;responsabilidad_iva_id = 1;\n    $empresa-&gt;categoria_id = 1;\n    $empresa-&gt;confirmed = 1;\n    $empresa-&gt;confirmation_code =null;\n    $empresa-&gt;save();\n    $empresa-&gt;migrar(str_replace(&quot; &quot;,&quot;_&quot;,$empresa-&gt;razon_social), $empresa-&gt;responsabilidad_iva_id);\n    $fiscal = new Fiscal();\n    $fiscal-&gt;empresa_id =  $empresa-&gt;id;\n    $fiscal-&gt;save();\n});\n\nRoute::get(&#39;/crear_cert&#39;, &#39;FacturacionController@create_keys&#39;)-&gt;name(&#39;keys&#39;);\n\n//URL RESPUESTA DE MERCADOPAGO\nRoute::post(&#39;/pagos/check&#39;, function(Request $request){\n    $json_event = file_get_contents($request, true);\n    $event = json_decode($json_event);\n    $file = fopen(public_path().&#39;/logsmp.txt&#39;,&#39;w+&#39;);\n    fwrite($file, $event);\n    return response(&#39;&#39;,200);\n    //usar getPayment\n});\n\nAuth::routes();\n\nRoute::get(&#39;/logout&#39;, function(){\n    Auth::logout();\n    return redirect(&#39;/&#39;);\n});\nRoute::get(&#39;/&#39;, function () {\n    if(Auth::guest()){\n        return view(&#39;welcome&#39;);\n    }else{\n        $fiscal = Fiscal::find(Auth::user()-&gt;fiscal-&gt;id);\n        if($fiscal-&gt;inicio_actividades == null || $fiscal-&gt;punto_venta == null || $fiscal-&gt;ingresos_brutos == null){\n            flash(&quot;Por favor dirígase a su perfil clickeando &lt;a href=&quot;.url(&#39;/empresas/perfil&#39;).&quot;&gt;&lt;b&gt;aquí&lt;/b&gt;&lt;/a&gt; para completar los datos necesarios para la generación de comprobantes.&quot;)-&gt;error();\n        }\n        if($fiscal-&gt;certificado == null){\n            flash(&quot;Para poder facturar debe generar sus certificados en AFIP, por favor clickee &lt;a href=&quot;.route(&#39;keys&#39;).&quot;&gt;&lt;b&gt;aquí&lt;/b&gt;&lt;/a&gt; y siga los pasos o contáctese a administración@pampadev.com.ar y lo ayudaremos.&quot;)-&gt;error();\n        }\n        setlocale(LC_TIME, &#39;es_ES.utf8&#39;);\n        $saldo = Movimiento::orderBy(&#39;id&#39;, &#39;ASC&#39;)-&gt;get()-&gt;last()-&gt;saldo;\n        $start = new Carbon(&#39;first day of this month&#39;);\n        $today = new Carbon(&#39;today&#39;);\n        $last  = new Carbon(&#39;first day of last month&#39;);\n        $today_last = new Carbon(&#39;today&#39;);\n        $today_last-&gt;subMonth(1);\n        $total_venta = Venta::CurrTotal($start-&gt;format(&#39;Y-m-d&#39;), $today-&gt;format(&#39;Y-m-d&#39;))-&gt;get()-&gt;sum(&#39;total&#39;);\n        $venta_anterior = Venta::LastTotal($last-&gt;format(&#39;Y-m-d&#39;), $today_last-&gt;format(&#39;Y-m-d&#39;))-&gt;get()-&gt;sum(&#39;total&#39;);\n        if($total_venta == 0){\n            $porcentaje_venta = 0;\n        }else{\n            $porcentaje_venta = round((1-($venta_anterior/$total_venta))*100,2);\n        }\n        if(Auth::user()-&gt;tipo_actividad == &#39;productos&#39; || Auth::user()-&gt;tipo_actividad == &#39;productos y servicios&#39;){\n            $total_compra = Compra::CurrTotal($start-&gt;format(&#39;Y-m-d&#39;), $today-&gt;format(&#39;Y-m-d&#39;))-&gt;get()-&gt;sum(&#39;total&#39;);\n            $compra_anterior = Compra::LastTotal($last-&gt;format(&#39;Y-m-d&#39;), $today_last-&gt;format(&#39;Y-m-d&#39;))-&gt;get()-&gt;sum(&#39;total&#39;);\n            if($total_compra == 0){\n                $porcentaje_compra = 0;\n            }else{\n                $porcentaje_compra = (1-($compra_anterior/$total_compra))*100;\n            }\n        }\n        $total_gasto = Gasto::CurrTotal($start-&gt;format(&#39;Y-m-d&#39;), $today-&gt;format(&#39;Y-m-d&#39;))-&gt;get()-&gt;sum(&#39;total&#39;);\n        $gasto_anterior = Gasto::LastTotal($last-&gt;format(&#39;Y-m-d&#39;), $today_last-&gt;format(&#39;Y-m-d&#39;))-&gt;get()-&gt;sum(&#39;total&#39;);\n        if($total_gasto == 0){\n            $porcentaje_gasto = 0;\n        }else{\n            $porcentaje_gasto = (1-($gasto_anterior/$total_gasto))*100;\n        }\n        $movimientos = Movimiento::orderBy(&#39;id&#39;, &#39;DESC&#39;)-&gt;simplePaginate(15);\n        $movimientos-&gt;each(function($movimiento){\n            if($movimiento-&gt;movimiento == &quot;VENTA&quot;){\n                $movimiento-&gt;venta;\n            }elseif($movimiento-&gt;movimiento == &quot;COMPRA&quot;){\n                $movimiento-&gt;compra;\n            }elseif($movimiento-&gt;movimiento == &quot;GASTO&quot;){\n                $movimiento-&gt;gasto;\n            }elseif($movimiento-&gt;movimiento == &quot;PAGO&quot;){\n                $movimiento-&gt;pago;\n                $movimiento-&gt;pago-&gt;proveedor;\n            }elseif($movimiento-&gt;movimiento == &quot;COBRO CUENTA CORRIENTE&quot;){\n                $movimiento-&gt;resumen_cuenta;\n                $movimiento-&gt;resumen_cuenta-&gt;cliente;\n            }\n        });\n        $pagos = Facturas_sistema::SearchPendiente(Auth::user()-&gt;id)-&gt;get()-&gt;count();\n        if($pagos &gt; 0){\n            flash(&quot;Tienes $pagos pagos pendientes. Por favor clickea &lt;a href=&#39;/pagos&#39; title=&#39;&#39;&gt;aquí.&lt;/a&gt;&quot;)-&gt;error();\n        }\n        if(Auth::user()-&gt;tipo_actividad == &#39;productos&#39; || Auth::user()-&gt;tipo_actividad == &#39;productos y servicios&#39;){\n            return view(&#39;index&#39;)-&gt;with(&#39;movimientos&#39;, $movimientos)\n                /*-&gt;with(&#39;cantidad_clientes&#39;, $cantidad_clientes)-&gt;with(&#39;cantidad_productos&#39;, $cantidad_productos)-&gt;with(&#39;alerta_stock&#39;, $alerta_stock)-&gt;with(&#39;cantidad_servicios&#39;, $cantidad_servicios)*/\n                -&gt;with(&#39;saldo&#39;, $saldo)-&gt;with(&#39;curr_mes&#39;, $today-&gt;formatLocalized(&#39;%B&#39;))-&gt;with(&#39;last_mes&#39;, $today_last-&gt;formatLocalized(&#39;%B&#39;))\n                -&gt;with(&#39;total_venta&#39;, $total_venta)-&gt;with(&#39;porcentaje_venta&#39;, $porcentaje_venta)\n\n                -&gt;with(&#39;total_compra&#39;, $total_compra)-&gt;with(&#39;porcentaje_compra&#39;, $porcentaje_compra)\n                -&gt;with(&#39;total_gasto&#39;, $total_gasto)-&gt;with(&#39;porcentaje_gasto&#39;, $porcentaje_gasto);\n        }else{\n            return view(&#39;index&#39;)-&gt;with(&#39;movimientos&#39;, $movimientos)\n            /*-&gt;with(&#39;cantidad_clientes&#39;, $cantidad_clientes)-&gt;with(&#39;cantidad_productos&#39;, $cantidad_productos)-&gt;with(&#39;alerta_stock&#39;, $alerta_stock)-&gt;with(&#39;cantidad_servicios&#39;, $cantidad_servicios)*/\n            -&gt;with(&#39;saldo&#39;, $saldo)-&gt;with(&#39;curr_mes&#39;, $today-&gt;formatLocalized(&#39;%B&#39;))-&gt;with(&#39;last_mes&#39;, $today_last-&gt;formatLocalized(&#39;%B&#39;))\n            -&gt;with(&#39;total_venta&#39;, $total_venta)-&gt;with(&#39;porcentaje_venta&#39;, $porcentaje_venta)\n            -&gt;with(&#39;total_gasto&#39;, $total_gasto)-&gt;with(&#39;porcentaje_gasto&#39;, $porcentaje_gasto);\n        }\n    }\n});\n\nRoute::group([&#39;middleware&#39;=&gt;&#39;auth&#39;], function(){\n\n\n    Route::get(&#39;getPersona&#39;, function() {\n        $facturacion = new Facturacion();\n        //URLS Y CERTS\n        $facturacion-&gt;cert = public_path().&#39;/facturacion/certs/&#39;.Auth::user()-&gt;cuit.&#39;/&#39;.Auth::user()-&gt;cuit.&#39;.crt&#39;;\n        $facturacion-&gt;key = public_path().&#39;/facturacion/certs/&#39;.Auth::user()-&gt;cuit.&#39;/&#39;.Auth::user()-&gt;cuit.&#39;.key&#39;;\n        //DATOS EMISOR\n        $facturacion-&gt;cuit_emisor = Auth::user()-&gt;cuit;\n        $facturacion-&gt;persona(&#39;30202020204&#39;);\n    });\n\n    //INDEX\n\n    //MI PERFIN\n    Route::get(&#39;/empresas/perfil&#39;, function(){\n        $responsabilidad_iva = Responsabilidad_iva::orderBy(&#39;id&#39;, &#39;ASC&#39;)-&gt;get();\n        return view(&#39;empresas.profile&#39;)-&gt;with(&#39;responsabilidad_iva&#39;, $responsabilidad_iva);\n    });\n\n    Route::post(&#39;/empresas/perfil&#39;, function(Request $request){\n        $empresa = Empresa::find(Auth::user()-&gt;id);\n        $empresa-&gt;razon_social = $request-&gt;razon_social;\n        $empresa-&gt;nombre_fantasia = $request-&gt;nombre_fantasia;\n        $empresa-&gt;cuit = $request-&gt;cuit;\n        $empresa-&gt;direccion = $request-&gt;direccion;\n        $empresa-&gt;localidad = $request-&gt;localidad;\n        $empresa-&gt;provincia = $request-&gt;provincia;\n        $empresa-&gt;telefono = $request-&gt;telefono;\n        $empresa-&gt;email = $request-&gt;email;\n        $empresa-&gt;responsabilidad_iva_id = $request-&gt;responsabilidad_iva;\n        $empresa-&gt;tipo_actividad = $request-&gt;tipo_actividad;\n        $empresa-&gt;save();\n        $fiscal = Fiscal::find($empresa-&gt;fiscal-&gt;id);\n        $fiscal-&gt;punto_venta = $request-&gt;punto_venta;\n        $fiscal-&gt;inicio_actividades = $request-&gt;inicio_actividades;\n        $fiscal-&gt;ingresos_brutos = $request-&gt;ingresos_brutos;\n        $fiscal-&gt;actividad = $request-&gt;actividad;\n        $fiscal-&gt;save();\n\n        return redirect(&#39;/&#39;);\n    });\n\n\n    //CREAR CERT\n\n    Route::post(&#39;/upload_cert&#39;, function(Request $request){\n        if($request-&gt;hasFile(&#39;cert&#39;)){\n            $file = $request-&gt;file(&#39;cert&#39;);\n            $path = public_path().&#39;/facturacion/certs/&#39;.Auth::user()-&gt;cuit.&#39;/&#39;;\n            $nombre = Auth::user()-&gt;cuit.&#39;.&#39;.$file-&gt;getClientOriginalExtension();\n            if($file-&gt;move($path, $nombre)){\n                $fiscal = Fiscal::where(&quot;empresa_id&quot;, Auth::user()-&gt;id)-&gt;first();\n                $fiscal-&gt;certificado = Auth::user()-&gt;cuit;\n                $fiscal-&gt;save();\n            }\n            return redirect(&#39;/&#39;);\n        }\n    });\n\n    //PAGOS\n    Route::resource(&#39;pagos&#39;, &#39;FacturasSistemaController&#39;);\n\n    //PROVEEDORES\n    Route::post(&#39;proveedor/deuda&#39;, &#39;PagoController@store&#39;)-&gt;name(&#39;pago.store&#39;);\n    Route::get(&#39;proveedor/deuda&#39;, function(){\n        return view(&#39;proveedores.pago&#39;);\n    })-&gt;name(&#39;proveedor.deuda&#39;);\n    Route::resource(&#39;proveedor&#39;, &#39;ProveedorController&#39;);\n    Route::get(&#39;proveedor/{id}/destroy&#39;, &#39;ProveedorController@destroy&#39;)-&gt;name(&#39;proveedor.destroy&#39;);\n    Route::get(&#39;proveedor/search/{value}&#39;, &#39;AjaxController@buscar_proveedor&#39;);\n    Route::get(&#39;proveedor/search/{value}&#39;, &#39;AjaxController@buscar_proveedor&#39;);\n\n    //categorias de productos\n    Route::resource(&#39;categoriaproducto&#39;, &#39;CategoriaProductoController&#39;);\n    Route::get(&#39;categoriaproducto/{id}/destroy&#39;, &#39;CategoriaProductoController@destroy&#39;)-&gt;name(&#39;categoriaproducto.destroy&#39;);\n\n    //Marcas\n    Route::resource(&#39;marcas&#39;, &#39;MarcaController&#39;);\n    Route::get(&#39;marcas/{id}/destroy&#39;, &#39;MarcaController@destroy&#39;)-&gt;name(&#39;marcas.destroy&#39;);\n\n    //Productos\n    Route::resource(&#39;productos&#39;, &#39;ProductoController&#39;);\n    Route::get(&#39;productos/{id}/destroy&#39;, &#39;ProductoController@destroy&#39;)-&gt;name(&#39;productos.destroy&#39;);\n    Route::get(&#39;productos/search/{value}&#39;, &#39;AjaxController@buscar_producto&#39;);\n\n    //Productos\n    Route::resource(&#39;servicios&#39;, &#39;ServicioController&#39;);\n    Route::get(&#39;servicios/{id}/destroy&#39;, &#39;ServicioController@destroy&#39;)-&gt;name(&#39;servicios.destroy&#39;);\n    Route::get(&#39;servicios/search/{value}&#39;, &#39;AjaxController@buscar_servicio&#39;);\n\n    //Clientes\n    Route::resource(&#39;clientes&#39;, &#39;ClienteController&#39;);\n    Route::get(&#39;clientes/{id}/destroy&#39;, &#39;ClienteController@destroy&#39;)-&gt;name(&#39;clientes.destroy&#39;);\n    Route::get(&#39;clientes/search/{value}&#39;, &#39;AjaxController@buscar_cliente&#39;);\n\n    //Facturas\n    Route::get(&#39;ventas&#39;, &quot;VentaController@index&quot;)-&gt;name(&#39;ventas.index&#39;);\n    Route::get(&#39;facturas/create&#39;, &quot;FacturacionController@create&quot;)-&gt;name(&#39;facturas.create&#39;);\n    Route::post(&#39;facturas&#39;, &quot;FacturacionController@generar_comprobante&quot;);\n    Route::get(&#39;facturas/num_comprobante/{tipo}&#39;, &quot;FacturacionController@num_comprobante&quot;);\n    Route::get(&#39;facturas/a&#39;, &#39;FacturaAController@index&#39;)-&gt;name(&#39;facturas_a.index&#39;);\n    Route::get(&#39;facturas/b&#39;, &#39;FacturaBController@index&#39;)-&gt;name(&#39;facturas_b.index&#39;);\n    Route::get(&#39;facturas/c&#39;, &#39;FacturaCController@index&#39;)-&gt;name(&#39;facturas_c.index&#39;);\n    Route::get(&#39;/facturas/{archivo}&#39;, &#39;FacturacionController@mostrar_pdf&#39;);\n    Route::post(&#39;comprobantes&#39;, &quot;FacturacionController@save&quot;);\n\n    //Resumen cuenta\n    Route::post(&#39;resumen/generate&#39;, function(Request $request){\n        $detalles = json_decode($request-&gt;detalle);\n        $name = $request-&gt;tipo_comprobante.$request-&gt;num_comprobante.&#39;.pdf&#39;;\n        fopen(public_path().&#39;/facturacion/comprobantes/&#39;.Auth::user()-&gt;cuit.&#39;/&#39;.$name,&#39;w+&#39;);\n        $pdf = PDF::loadView(&#39;layouts.pdf.resumen&#39;, [&#39;detalles&#39;=&gt;$detalles, &#39;Comprobante&#39;=&gt;$request, &#39;num_comprobante&#39; =&gt; $request-&gt;num_comprobante, &#39;tipo_comprobante&#39; =&gt; $request-&gt;tipo_comprobante, &#39;comp&#39; =&gt; &#39;X&#39;, &#39;titulo_factura&#39;=&gt;&quot;Resúmen de cuenta&quot;, &#39;punto_venta&#39;=&gt;Auth::user()-&gt;fiscal-&gt;punto_venta, &#39;fecha&#39;=&gt;$request-&gt;fecha]);\n        $pdf-&gt;save(public_path().&#39;/facturacion/comprobantes/&#39;.Auth::user()-&gt;cuit.&#39;/&#39;.$name);\n    });\n    Route::resource(&#39;resumen_cuenta&#39;, &#39;ResumenCuentaController&#39;);\n\n\n    //Compras\n    Route::resource(&#39;compras&#39;, &#39;CompraController&#39;);\n    Route::get(&#39;compras/{id}/destroy&#39;, &#39;CompraController@destroy&#39;)-&gt;name(&#39;compras.destroy&#39;);\n\n    //Gastos\n    Route::resource(&#39;gastos&#39;, &#39;GastoController&#39;);\n    Route::get(&#39;gastos/{id}/destroy&#39;, &#39;GastoController@destroy&#39;)-&gt;name(&#39;gastos.destroy&#39;);\n});\n\nRoute::get(&#39;/consulta&#39;, function(Request $request){\n    Mail::to(&#39;administracion@pampadev.com.ar&#39;)-&gt;send(new RecibirConsulta($request));\n    Mail::to($request-&gt;email)-&gt;send(new EnviarConsulta($request));\n    return redirect(&#39;/&#39;);\n});\n\nRoute::get(&#39;/cbte2&#39;, function(){\n        $detalles = array((object)array(&#39;cantidad&#39;=&gt;&#39;1&#39;, &#39;importe&#39; =&gt; 4950, &quot;total&quot; =&gt; 4950, &quot;detalle&quot; =&gt; &#39;Servicio completo dodge ram&#39;, &quot;id&quot;=&gt; &quot;0&quot;, &quot;tipo&quot;=&gt; &quot;producto&quot;));\n        $facturacion = new Facturacion();\n        //URLS Y CERTS\n        $facturacion-&gt;cert = public_path().&#39;/facturacion/certs/&#39;.Auth::user()-&gt;cuit.&#39;/&#39;.Auth::user()-&gt;cuit.&#39;.crt&#39;;\n        $facturacion-&gt;key = public_path().&#39;/facturacion/certs/&#39;.Auth::user()-&gt;cuit.&#39;/&#39;.Auth::user()-&gt;cuit.&#39;.key&#39;;\n        //DATOS EMISOR\n        $facturacion-&gt;cuit_emisor = Auth::user()-&gt;cuit;\n\n        $facturacion-&gt;tipos_iva();\n        $facturacion-&gt;punto_venta = Auth::user()-&gt;fiscal-&gt;punto_venta;\n        $facturacion-&gt;concepto = $facturacion-&gt;tipo_actividad(Auth::user()-&gt;tipo_actividad);\n        //DATOS CLIENTE\n        $facturacion-&gt;doc_nro = 30500017704;\n        $facturacion-&gt;tipo_doc = 80;\n        //DATOS COMPROBANTE\n        $facturacion-&gt;tipo_comprobante = 1;\n        $facturacion-&gt;comprobante_desde =1;\n        $facturacion-&gt;comprobante_hasta =1;\n        $facturacion-&gt;comprobante_fecha = &#39;20180421&#39;;\n        $facturacion-&gt;importe_total = 4950;\n        $facturacion-&gt;importe_neto = 4090.91;\n        $facturacion-&gt;importe_iva = 859.09;\n        $facturacion-&gt;cae = 68122438193731;\n        $facturacion-&gt;vencimiento_cae = 20180421;\n        $request = (object) array(&#39;tipo_comprobante&#39; =&gt; &quot;A&quot;, &#39;fecha&#39; =&gt; &#39;2018-04-21&#39;, &#39;nombre&#39; =&gt; &quot;LA SEGUNCA C LSG&quot;, &#39;cuit&#39; =&gt; &quot;30500017704&quot;, &#39;direccion&#39; =&gt; &quot;ROSAS 957&quot;, &#39;localidad&#39; =&gt; &quot;ROSARIO&quot;, &#39;forma_pago&#39; =&gt; &quot;Contado&quot; , &#39;resp_iva&#39; =&gt; &quot;IVA Responsable Inscripto&quot;, &quot;txtObservaciones&quot; =&gt; &quot;&quot;,&#39;subtotal&#39; =&gt; 4090.91,&#39;importe_iva&#39; =&gt; 859.09, &#39;total&#39; =&gt; 4950);\n        $cae = $facturacion-&gt;cae;\n        $vencimiento = $facturacion-&gt;vencimiento_cae;\n        $codigo = $facturacion-&gt;cuit_emisor.$facturacion-&gt;tipo_comprobante.$facturacion-&gt;punto_venta.$facturacion-&gt;cae.$facturacion-&gt;vencimiento_cae;\n        $bar = new DNS1D;\n        $barcode = &#39;&lt;img src=&quot;data:image/png;base64,&#39; . $bar-&gt;getBarcodePNG(&quot;$codigo&quot;, &quot;I25+&quot;,1.2,45,array(1,1,1)) . &#39;&quot; alt=&quot;barcode&quot;   /&gt;&#39;;\n        $name = &#39;P00000001.pdf&#39;;\n        fopen(public_path().&#39;/facturacion/comprobantes/&#39;.Auth::user()-&gt;cuit.&#39;/&#39;.$name,&#39;w+&#39;);\n        $pdf = PDF::loadView(&#39;layouts.pdf.comprobante&#39;, [&#39;barcode&#39;=&gt;$barcode,&#39;codigo&#39;=&gt;$codigo,&#39;detalles&#39;=&gt;$detalles, &#39;Comprobante&#39;=&gt;$request, &#39;vencimiento&#39;=&gt;date(&quot;d-m-Y&quot;, strtotime($facturacion-&gt;vencimiento_cae)), &#39;cae&#39;=&gt;$facturacion-&gt;cae, &#39;num_comprobante&#39; =&gt; &#39;00000001&#39;, &#39;tipo_comprobante&#39; =&gt; $facturacion-&gt;tipo_comprobante, &#39;comp&#39; =&gt; &#39;A&#39;, &#39;titulo_factura&#39;=&gt;&quot;Factura&quot;, &#39;punto_venta&#39;=&gt;$facturacion-&gt;punto_venta, &#39;fecha&#39;=&gt;&#39;22/03/2018&#39;]);\n        $pdf-&gt;save(public_path().&#39;/facturacion/comprobantes/&#39;.Auth::user()-&gt;cuit.&#39;/&#39;.$name);\n        $headers = [\n                &#39;Content-Type&#39; =&gt; &#39;application/pdf&#39;,\n                &#39;Content-Disposition&#39; =&gt; &#39;inline; &#39; .&quot;P00000001.pdf&quot;,\n            ];\n        return Response::make(File::get(public_path().&#39;/facturacion/comprobantes/&#39;.Auth::user()-&gt;cuit.&#39;/P00000001.pdf&#39;), 200, $headers);\n});";
        // Using jquery way of decoding the html content.
        // Tried to use '_' version of unescape method but it
        // did not decode encoded version of apostrophe (')
        // where the code is &#39;
        var htmlContent = $("<div/>").html(file_content).text();

        var fileName = "web.php";
        var editAreaEl = "";
        var lastResizeTime = 0;
        var lastResizeRequestTime = 0;
        var NVData = {"editor_fontsize":"","editor_nowrap":""};

        function load_EditArea(workingContent) {
            workingContent = workingContent;
            if(USE_LEGACY_EDITOR){
                showAceEditorElements(false);

                editAreaEl = 'legacy_codewindow';
                CODEWINDOW = DOM.get(editAreaEl);
                editAreaLoader.show(editAreaEl);
                loadLegacyEditor(editAreaEl, workingContent);
            } else {
                editAreaLoader.hide(editAreaEl);

                editAreaEl = 'codewindow';
                CODEWINDOW = DOM.get(editAreaEl);
                showAceEditorElements(true);
                loadAceEditor(editAreaEl, workingContent);
            }
        }

        function showAceEditorElements(show){
            if(show){
                $(".show-ace-editor").show();
            } else {
                $(".show-ace-editor").hide();
            }
        }

        function loadLegacyEditor(editAreaId, editContent){
            // Setting up the ids in js/edit_area_resizer.js file to
            // use it for resizing purposes.
            setElementIds(editAreaId);
            var EditArea_config = {
                id: editAreaEl,
                start_highlight: true,
                allow_resize: "both",
                allow_toggle: false,
                language: "en",
                toolbar: "search, go_to_line, |, undo, redo, |, select_font, |, syntax_selection, |, change_smooth_selection, highlight, reset_highlight, word_wrap, |, help",
                syntax: "php",
                word_wrap: true
            };
            editAreaLoader.setValue(editAreaId, editContent);

            editAreaLoader.init(EditArea_config);
            doResizeSoon();
        }

        function loadAceEditor(editAreaEl, editContent){
            ace_editor = ace.edit(editAreaEl);
            // The line below is added to disable a
            // warning message as required by ace editor
            // script.
            ace_editor.$blockScrolling = Infinity;
            ace_editor.focus();

            var editSession = ace.createEditSession(editContent);
            ace_editor.setSession(editSession);
            if(typeof(editSession) !== "undefined"){
                var defaultFontSize = parseInt(NVData.editor_fontsize, 10) || 13;
                // Load the modelist extension to identify the file
                // type of the given file and open the file in that
                // editor mode.
                var modelist = ace.require("ace/ext/modelist");
                var modeObj = modelist.getModeForPath(fileName);

                ace_editor.setOptions({
                    "fontSize": defaultFontSize,
                    "mode": modeObj.mode,
                    "theme": "ace/theme/chrome"
                });
                updateWordWrapInterface();

                // Fill mode list dropdown in the toolbar.
                var $modeEl = $('#ddlModes');
                fillModesDropdown($modeEl, modelist);
                $modeEl.val(modeObj.name);
                // Bind change event.
                $modeEl.change(function(){
                    var selectedMode = $modeEl.find( "option:selected" ).first().val();
                    ace_editor.getSession().setMode(modelist.modesByName[selectedMode].mode);
                });

                // Fill font size dropdown.
                var $fontEl = $('#ddlFontSizes');
                fillFontsDropdown($fontEl);
                $fontEl.val(defaultFontSize);
                // Bind change event.
                $fontEl.change(function(){
                    var selectedSize = parseInt($fontEl.find( "option:selected" ).first().val());
                    SetNvData("editor_fontsize", selectedSize);
                    ace_editor.setFontSize(selectedSize);
                });
            }
        }

        function fillFontsDropdown($el) {
            var arr = [10, 11, 12, 13, 14, 16, 18, 20, 24].map(function(size){
                return {val: size, text: size + "px"};
            });
            arr.forEach(function(val){
                $el.append($("<option>", val));
            });
        }

        function fillModesDropdown($el, modeList) {
            var arr = modeList.modes.map(function(oMode){
                return {val: oMode.name, text: oMode.caption};
            });
            arr.forEach(function(val){
                $el.append($("<option>", val));
            });
        }

        function toolbarActions(action){
            switch(action){
                case "search":
                ace_editor.execCommand("find");
                break;
                case "goto":
                ace_editor.execCommand("gotoline");
                break;
                case "undo":
                ace_editor.undo();
                break;
                case "redo":
                ace_editor.redo();
                break;
                case "linewrap":
                toggleWordWrap();
                break;
            }
        }

        function toggleWordWrap() {
            if (NVData.editor_nowrap) {
                SetNvData("editor_nowrap", 0);
            } else {
                SetNvData("editor_nowrap", 1);
            }
            updateWordWrapInterface();
        }

        function updateWordWrapInterface() {
            var btnEl = document.querySelector("#btnLineWrap");

            if (btnEl && NVData.editor_nowrap) {
                ace_editor.setOption("wrap", false);
                btnEl.classList.remove("active");
            } else {
                ace_editor.setOption("wrap", 80);
                btnEl.classList.add("active");
            }
        }

        /*
         * This function detects if the browser is in a mobile
         * environment.
         * Note: This is used to open the editor in legacy editor mode
         * until Ace editor comes with the fixes for issues described in
         * ZC-2558.
        */
        function detectmobile() {
         if( navigator.userAgent.match(/Android/i)
         || navigator.userAgent.match(/webOS/i)
         || navigator.userAgent.match(/iPhone/i)
         || navigator.userAgent.match(/iPad/i)
         || navigator.userAgent.match(/iPod/i)
         || navigator.userAgent.match(/BlackBerry/i)
         || navigator.userAgent.match(/Windows Phone/i)
         ){
            return true;
          }
         else {
            return false;
          }
        }

        function toggle_EditArea(link) {
            var workingContent = "";
            if(USE_LEGACY_EDITOR){
                USE_LEGACY_EDITOR = false;
                // send working content to not loose working data
                // when user switches between two editors.
                workingContent = (editAreaLoader) ? editAreaLoader.getValue(editAreaEl) : "";
            } else {
                USE_LEGACY_EDITOR = true;
                // Reset the word wrap
                toggleWordWrap();
                // send working content to not loose working data
                // when user switches between two editors.
                workingContent = (ace_editor) ? ace_editor.getSession().getValue() : "";
            }
            toggleSwitchButtonAttr(link);
            load_EditArea(workingContent);
        }

        function toggleSwitchButtonAttr(btnEl) {
            var $switchButton = $(btnEl);
            if(USE_LEGACY_EDITOR){
                $switchButton.text("Use latest editor").prop("title", "Switch to latest editor.");
            } else {
                $switchButton.text("Use legacy editor").prop("title", "Switch to legacy editor.");
            }
        }

        var CODEWINDOW;
        var ace_editor;

        EVENT.throwErrors = true;

        YAHOO.util.Event.addListener(window, "load", function(){
            savedContent = htmlContent;
            if(detectmobile()){
                USE_LEGACY_EDITOR = true;
            }
            toggleSwitchButtonAttr(DOM.get("switch_editor_control"));
            load_EditArea(savedContent);
        });
        $(window).resize(function(e) {
            doResize();
        });
        </script>

    </body>
</html>
